root@Rover2:/tmp/pycore.38885/Rover2.conf# cd /tmp/nms                                                                     
root@Rover2:/tmp/nms# python3 start_rover.py 10.0.1.10 r2
============================================================
ROVER r2 - Iniciando...
Nave-Mãe: 10.0.1.10
Intervalo de telemetria: 30 segundos
============================================================
[DEBUG] start_rover: Criando instância NMS_Agent com Nave-Mãe em 10.0.1.10
[DEBUG] start_rover: Rover ID definido como r2

[DEBUG] start_rover: Iniciando processo de registo na Nave-Mãe 10.0.1.10...
[DEBUG] start_rover: Tentativa 1/5 de registo...
[DEBUG] register: Iniciando registo na Nave-Mãe 10.0.1.10 (rover_id=r2)
[DEBUG] register: Enviando pedido de registo...
[DEBUG] send: Iniciando conexão para enviar mensagem (ip=10.0.1.10, port=8080, idAgent=r2, missionType=R, idMission=000)
[DEBUG] startConnection: Iniciando handshake com 10.0.1.10:8080 (idAgent=r2, retryLimit=5)
[DEBUG] startConnection: Enviando SYN para 10.0.1.10:8080 (tentativa 1/5)
[DEBUG] startConnection: Recebido SYN-ACK de 10.0.1.10:8080, enviando ACK
[OK] CONNECTION ESTABLISHED com 10.0.1.10:8080 (idAgent=r2)
--------------
[DEBUG] send: Conexão estabelecida, enviando dados (seq=101, ack=101)
[DEBUG] register: Aguardando confirmação de registo...
[DEBUG] recv: Aguardando conexão de rover...
[DEBUG] acceptConnection: Aguardando SYN de rover...
[DEBUG] acceptConnection: Recebido pacote de 10.0.1.10:8080
[DEBUG] acceptConnection: SYN recebido de 10.0.1.10:8080 (idAgent=r2)
[DEBUG] acceptConnection: Enviando SYN-ACK para 10.0.1.10:8080
[OK] CONNECTION ESTABLISHED com 10.0.1.10:8080 (idAgent=r2)
---------------
[DEBUG] recv: Conexão aceite de 10.0.1.10:8080 (idAgent=r2, seq=100, ack=100)
[DEBUG] register: Resposta recebida: idAgent=r2, ip=10.0.1.10, message=Registered
[OK] Registado com sucesso na Nave-Mãe 10.0.1.10 (resposta: Registered)
[OK] Registado como r2 na Nave-Mãe 10.0.1.10
[...] A iniciar listener de missões (MissionLink)...
[DEBUG] mission_listener: Thread iniciada para rover r2
[OK] Listener de missões ativo
[DEBUG] recvMissionLink: Aguardando mensagem do MissionLink...
[DEBUG] recv: Aguardando conexão de rover...
[DEBUG] acceptConnection: Aguardando SYN de rover...
[DEBUG] acceptConnection: Recebido pacote de 10.0.1.10:8080
[DEBUG] acceptConnection: SYN recebido de 10.0.1.10:8080 (idAgent=r2)
[DEBUG] acceptConnection: Enviando SYN-ACK para 10.0.1.10:8080
[OK] CONNECTION ESTABLISHED com 10.0.1.10:8080 (idAgent=r2)
---------------
[DEBUG] recv: Conexão aceite de 10.0.1.10:8080 (idAgent=r2, seq=100, ack=100)
[DEBUG] recvMissionLink: Mensagem recebida: idAgent=r2, idMission=M-003, missionType=T, ip=10.0.1.10
[DEBUG] recvMissionLink: Recebida missão M-003, validando formato...
[DEBUG] recvMissionLink: Missão validada, fazendo parse do JSON...
[DEBUG] recvMissionLink: JSON parseado com sucesso
[DEBUG] send: Iniciando conexão para enviar mensagem (ip=10.0.1.10, port=8080, idAgent=r2, missionType=None, idMission=M-003)
[DEBUG] startConnection: Iniciando handshake com 10.0.1.10:8080 (idAgent=r2, retryLimit=5)
[DEBUG] startConnection: Enviando SYN para 10.0.1.10:8080 (tentativa 1/5)
[DEBUG] startConnection: Recebido SYN-ACK de 10.0.1.10:8080, enviando ACK
[OK] CONNECTION ESTABLISHED com 10.0.1.10:8080 (idAgent=r2)
--------------
[DEBUG] send: Conexão estabelecida, enviando dados (seq=101, ack=101)
[OK] Missão M-003 recebida - iniciando execução
[INFO] Executando missão M-003 (environmental_analysis, 45min)
[DEBUG] mission_listener: Missão recebida e processada: M-003
[DEBUG] recvMissionLink: Aguardando mensagem do MissionLink...
[DEBUG] recv: Aguardando conexão de rover...
[DEBUG] acceptConnection: Aguardando SYN de rover...
[DEBUG] acceptConnection: Recebido pacote de 10.0.1.10:8080
[DEBUG] acceptConnection: SYN recebido de 10.0.1.10:8080 (idAgent=r2)
[DEBUG] acceptConnection: Enviando SYN-ACK para 10.0.1.10:8080
[OK] CONNECTION ESTABLISHED com 10.0.1.10:8080 (idAgent=r2)
---------------
[DEBUG] recv: Conexão aceite de 10.0.1.10:8080 (idAgent=r2, seq=100, ack=100

[DEBUG] recvMissionLink: Mensagem recebida: idAgent=r2, idMission=M-002, missionType=T, ip=10.0.1.10
[DEBUG] recvMissionLink: Recebida missão M-002, validando formato...
[DEBUG] recvMissionLink: Missão validada, fazendo parse do JSON...
[DEBUG] recvMissionLink: JSON parseado com sucesso
[DEBUG] send: Iniciando conexão para enviar mensagem (ip=10.0.1.10, port=8080, idAgent=r2, missionType=None, idMission=M-002)
[DEBUG] startConnection: Iniciando handshake com 10.0.1.10:8080 (idAgent=r2, retryLimit=5)
[DEBUG] startConnection: Enviando SYN para 10.0.1.10:8080 (tentativa 1/5)
[DEBUG] startConnection: Recebido SYN-ACK de 10.0.1.10:8080, enviando ACK
[OK] CONNECTION ESTABLISHED com 10.0.1.10:8080 (idAgent=r2)
--------------
[DEBUG] send: Conexão estabelecida, enviando dados (seq=101, ack=101)
[INFO] Missão M-002 adicionada à fila (missão atual em execução)
[DEBUG] mission_listener: Missão recebida e processada: M-002
[DEBUG] recvMissionLink: Aguardando mensagem do MissionLink...
[DEBUG] recv: Aguardando conexão de rover...
[DEBUG] acceptConnection: Aguardando SYN de rover...
[...] A iniciar telemetria contínua...
[DEBUG] startContinuousTelemetry: Iniciando telemetria contínua (intervalo=30s, server_ip=10.0.1.10)
Monitorização contínua de telemetria iniciada (intervalo: 30s)
[OK] Telemetria contínua ativa (intervalo: 30s)
============================================================
Rover r2 pronto!
============================================================

Rover em operação. Aguardando missões...
Pressione Ctrl+C para encerrar

[DEBUG] acceptConnection: Aguardando SYN de rover...
[DEBUG] acceptConnection: Aguardando SYN de rover...
[DEBUG] acceptConnection: Aguardando SYN de rover...
[DEBUG] acceptConnection: Aguardando SYN de rover...
MissionLink: sem ligação após 10s à espera de SYN
[AVISO] mission_listener: Erro ao receber missão: MissionLink: sem ligação após 10s à espera de SYN
Traceback (most recent call last):
  File "/tmp/nms/protocol/MissionLink.py", line 682, in recv
    (ipDest,portDest),idAgent,seq,ack = self.acceptConnection()
  File "/tmp/nms/protocol/MissionLink.py", line 369, in acceptConnection
    message,(ip,port) = self.sock.recvfrom(self.limit.buffersize)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "start_rover.py", line 85, in mission_listener
    mission = rover.recvMissionLink()
  File "/tmp/nms/client/NMS_Agent.py", line 401, in recvMissionLink
    lista = self.missionLink.recv()
  File "/tmp/nms/protocol/MissionLink.py", line 688, in recv
    raise TimeoutError("MissionLink: sem ligação após 10s à espera de SYN")
TimeoutError: MissionLink: sem ligação após 10s à espera de SYN
[DEBUG] recvMissionLink: Aguardando mensagem do MissionLink...
[DEBUG] recv: Aguardando conexão de rover...
[DEBUG] acceptConnection: Aguardando SYN de rover...
[DEBUG] acceptConnection: Aguardando SYN de rover...
[DEBUG] acceptConnection: Aguardando SYN de rover...
[DEBUG] acceptConnection: Aguardando SYN de rover...
[DEBUG] acceptConnection: Aguardando SYN de rover...
MissionLink: sem ligação após 10s à espera de SYN
[AVISO] mission_listener: Erro ao receber missão: MissionLink: sem ligação após 10s à espera de SYN
Traceback (most recent call last):
  File "/tmp/nms/protocol/MissionLink.py", line 682, in recv
    (ipDest,portDest),idAgent,seq,ack = self.acceptConnection()
  File "/tmp/nms/protocol/MissionLink.py", line 369, in acceptConnection
    message,(ip,port) = self.sock.recvfrom(self.limit.buffersize)

socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "start_rover.py", line 85, in mission_listener
    mission = rover.recvMissionLink()
  File "/tmp/nms/client/NMS_Agent.py", line 401, in recvMissionLink
    lista = self.missionLink.recv()
  File "/tmp/nms/protocol/MissionLink.py", line 688, in recv
    raise TimeoutError("MissionLink: sem ligação após 10s à espera de SYN")
TimeoutError: MissionLink: sem ligação após 10s à espera de SYN
[DEBUG] recvMissionLink: Aguardando mensagem do MissionLink...
[DEBUG] recv: Aguardando conexão de rover...
[DEBUG] acceptConnection: Aguardando SYN de rover...
[DEBUG] acceptConnection: Aguardando SYN de rover...
[DEBUG] TelemetryStream.send: Preparando envio de telemetria para 10.0.1.10:8081
[DEBUG] TelemetryStream.send: Ficheiro encontrado: telemetry_r2_1765472449.json, conectando a 10.0.1.10:8081...
[DEBUG] TelemetryStream.send: Conectado a 10.0.1.10:8081, enviando ficheiro...
[OK] TelemetryStream.send: Ficheiro telemetry_r2_1765472449.json enviado com sucesso para 10.0.1.10:8081
[DEBUG] send: Iniciando conexão para enviar mensagem (ip=10.0.1.10, port=8080, idAgent=r2, missionType=P, idMission=M-003)
[DEBUG] startConnection: Iniciando handshake com 10.0.1.10:8080 (idAgent=r2, retryLimit=5)
[DEBUG] startConnection: Enviando SYN para 10.0.1.10:8080 (tentativa 1/5)
[DEBUG] acceptConnection: Aguardando SYN de rover...
[DEBUG] acceptConnection: Recebido pacote de 10.0.1.10:8080
Timeout ao aguardar SYN-ACK de 10.0.1.10:8080. Retry: (1/5)
[DEBUG] startConnection: Enviando SYN para 10.0.1.10:8080 (tentativa 2/5)
[DEBUG] acceptConnection: Aguardando SYN de rover...
[DEBUG] acceptConnection: Recebido pacote de 10.0.1.10:8080
[DEBUG] TelemetryStream.send: Preparando envio de telemetria para 10.0.1.10:8081
[DEBUG] TelemetryStream.send: Ficheiro encontrado: telemetry_r2_1765472452.json, conectando a 10.0.1.10:8081...
[DEBUG] TelemetryStream.send: Conectado a 10.0.1.10:8081, enviando ficheiro...
[OK] TelemetryStream.send: Ficheiro telemetry_r2_1765472452.json enviado com sucesso para 10.0.1.10:8081
[OK] Telemetria enviada para 10.0.1.10
[DEBUG] acceptConnection: Aguardando SYN de rover...
Timeout ao aguardar SYN-ACK de 10.0.1.10:8080. Retry: (2/5)
[DEBUG] startConnection: Enviando SYN para 10.0.1.10:8080 (tentativa 3/5)
[DEBUG] acceptConnection: Recebido pacote de 10.0.1.10:8080
Timeout ao aguardar SYN-ACK de 10.0.1.10:8080. Retry: (3/5)
[DEBUG] startConnection: Enviando SYN para 10.0.1.10:8080 (tentativa 4/5)
MissionLink: sem ligação após 10s à espera de SYN
[AVISO] mission_listener: Erro ao receber missão: MissionLink: sem ligação após 10s à espera de SYN
Traceback (most recent call last):
  File "/tmp/nms/protocol/MissionLink.py", line 682, in recv
    (ipDest,portDest),idAgent,seq,ack = self.acceptConnection()
  File "/tmp/nms/protocol/MissionLink.py", line 380, in acceptConnection
    message,(ip,port) = self.sock.recvfrom(self.limit.buffersize)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "start_rover.py", line 85, in mission_listener
    mission = rover.recvMissionLink()
  File "/tmp/nms/client/NMS_Agent.py", line 401, in recvMissionLink
    lista = self.missionLink.recv()
  File "/tmp/nms/protocol/MissionLink.py", line 688, in recv
    raise TimeoutError("MissionLink: sem ligação após 10s à espera de SYN")
TimeoutError: MissionLink: sem ligação após 10s à espera de SYN
Timeout ao aguardar SYN-ACK de 10.0.1.10:8080. Retry: (4/5)
[DEBUG] startConnection: Enviando SYN para 10.0.1.10:8080 (tentativa 5/5)
[DEBUG] startConnection: Recebido SYN-ACK de 10.0.1.10:8080, enviando ACK
[OK] CONNECTION ESTABLISHED com 10.0.1.10:8080 (idAgent=r2)
--------------
[DEBUG] send: Conexão estabelecida, enviando dados (seq=101, ack=101)
[DEBUG] recvMissionLink: Aguardando mensagem do MissionLink...
[DEBUG] recv: Aguardando conexão de rover...
[DEBUG] acceptConnection: Aguardando SYN de rover...
[DEBUG] acceptConnection: Recebido pacote de 10.0.1.10:8080
[DEBUG] acceptConnection: Aguardando SYN de rover...

[DEBUG] acceptConnection: Recebido pacote de 10.0.1.10:8080
[DEBUG] acceptConnection: Aguardando SYN de rover...
[DEBUG] acceptConnection: Recebido pacote de 10.0.1.10:8080
[DEBUG] acceptConnection: Aguardando SYN de rover...
[DEBUG] acceptConnection: Recebido pacote de 10.0.1.10:8080
MissionLink: sem ligação após 10s à espera de SYN
[AVISO] mission_listener: Erro ao receber missão: MissionLink: sem ligação após 10s à espera de SYN
Traceback (most recent call last):
  File "/tmp/nms/protocol/MissionLink.py", line 682, in recv
    (ipDest,portDest),idAgent,seq,ack = self.acceptConnection()
  File "/tmp/nms/protocol/MissionLink.py", line 380, in acceptConnection
    message,(ip,port) = self.sock.recvfrom(self.limit.buffersize)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "start_rover.py", line 85, in mission_listener
    mission = rover.recvMissionLink()
  File "/tmp/nms/client/NMS_Agent.py", line 401, in recvMissionLink
    lista = self.missionLink.recv()
  File "/tmp/nms/protocol/MissionLink.py", line 688, in recv
    raise TimeoutError("MissionLink: sem ligação após 10s à espera de SYN")
TimeoutError: MissionLink: sem ligação após 10s à espera de SYN
[DEBUG] recv: Aguardando conexão de rover...
[DEBUG] acceptConnection: Aguardando SYN de rover...
[DEBUG] acceptConnection: Recebido pacote de 10.0.1.10:8080
[DEBUG] acceptConnection: SYN recebido de 10.0.1.10:8080 (idAgent=r2)
[DEBUG] acceptConnection: Enviando SYN-ACK para 10.0.1.10:8080
[OK] CONNECTION ESTABLISHED com 10.0.1.10:8080 (idAgent=r2)
---------------
[DEBUG] recv: Conexão aceite de 10.0.1.10:8080 (idAgent=r2, seq=100, ack=100)
Progresso da missão M-003 reportado com sucesso
[DEBUG] recvMissionLink: Aguardando mensagem do MissionLink...
[DEBUG] recv: Aguardando conexão de rover...
[DEBUG] acceptConnection: Aguardando SYN de rover...
[DEBUG] acceptConnection: Aguardando SYN de rover...
^C

A encerrar Rover r2...
[DEBUG] acceptConnection: Aguardando SYN de rover...
[DEBUG] acceptConnection: Aguardando SYN de rover...
Aviso: Thread de telemetria não terminou no tempo esperado
Rover r2 encerrado.
root@Rover2:/tmp/nms# 